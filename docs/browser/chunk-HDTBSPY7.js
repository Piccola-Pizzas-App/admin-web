import{a as k}from"./chunk-JOJC7BNK.js";import"./chunk-55JEHFV6.js";import{h as S}from"./chunk-I46D7BUH.js";import"./chunk-2L4G3X5X.js";import{$a as d,$b as g,Hb as n,Ib as o,Jb as l,Nb as C,Oc as w,Pb as x,Qb as u,Tb as P,Tc as M,Ya as b,_b as p,ac as y,da as m,gc as O,ha as h,sa as _,sb as f,ta as v,xb as s}from"./chunk-H3XUDRPM.js";import"./chunk-RGL3W33T.js";function E(i,r){if(i&1){let c=C();n(0,"div",6),x("click",function(){let e=_(c).$implicit,a=u(2);return v(a.onEditProduct(e.id))}),l(1,"img",7),n(2,"div",8)(3,"h3",9),p(4),o(),n(5,"p",10),p(6),o(),n(7,"p",11),p(8),o()()()}if(i&2){let c,t=r.$implicit,e=u(2);d(),P("alt",t.name),s("src",(c=t.photo)!==null&&c!==void 0?c:"https://i.imgur.com/TdfYhhp.png",b),d(3),g(t.name),d(2),g(t.ingredients),d(2),y(" ",e.getPriceString(t)," ")}}function F(i,r){if(i&1&&(n(0,"div")(1,"h2"),p(2),o(),l(3,"hr"),n(4,"div",4),f(5,E,9,5,"div",5),o(),l(6,"hr"),o()),i&2){let c=r.$implicit,t=u();d(2),g(c),d(3),s("ngForOf",t.categories[c])}}var V=(()=>{let r=class r{constructor(){this.productsService=m(k),this.router=m(S),this.products=[],this.categories={}}ngOnInit(){this.productsService.getAllProducts().subscribe({next:t=>{this.products=t.data,this.groupProductsByCategory(),console.log(this.categories)},error:t=>{console.error("Error fetching orders:",t),alert(t.error.message)}})}groupProductsByCategory(){this.categories=this.products.reduce((t,e)=>(t[e.type]||(t[e.type]=[]),t[e.type].push(e),t),{})}getCategoryNames(){return Object.keys(this.categories)}getPriceString(t){return t.isMultiSize?`${t.priceSmall}\u20AC - ${t.priceMedium}\u20AC - ${t.priceBig}\u20AC`:`${t.priceBig}\u20AC`}onAddProduct(){this.router.navigate(["/products/new"])}onEditProduct(t){this.router.navigate([`/products/edit/${t}`])}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h({type:r,selectors:[["app-products"]],standalone:!0,features:[O],decls:5,vars:1,consts:[[1,"products-wrapper"],[1,"products"],[4,"ngFor","ngForOf"],[1,"fab",3,"click"],[1,"products-container"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[1,"product-card",3,"click"],[1,"product-image",3,"src","alt"],[1,"product-details"],[1,"product-name"],[1,"product-ingredients"],[1,"product-price"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1),f(2,F,7,2,"div",2),o(),n(3,"button",3),x("click",function(){return a.onAddProduct()}),p(4," + "),o()()),e&2&&(d(2),s("ngForOf",a.getCategoryNames()))},dependencies:[M,w],styles:['@charset "UTF-8";.products[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border-radius:10px}.products-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:space-evenly;padding:16px;background-color:#fff;border-radius:10px}.product-card[_ngcontent-%COMP%]{flex:1 1 calc(25% - 32px);max-width:300px;min-width:200px;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:16px;background-color:#fff;text-align:center;box-shadow:0 4px 12px #0000001a}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 18px #0003;cursor:pointer}.product-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.product-details[_ngcontent-%COMP%]{margin-top:16px}.product-name[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.product-ingredients[_ngcontent-%COMP%]{font-size:.9em;color:#777;margin-bottom:10px}.product-price[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}.fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background-color:#007bff;color:#fff;font-size:24px;border:none;box-shadow:0 4px 8px #0003;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1000}.fab[_ngcontent-%COMP%]:hover{background-color:#0056b3}.fab[_ngcontent-%COMP%]:focus{outline:none}.products-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:20px 10px;border-radius:10px}']});let i=r;return i})();export{V as ProductsComponent};
