import{a as H}from"./chunk-JOJC7BNK.js";import{a as N,b as l,c as A,d as T,i as q,j as B,l as D,m as Z,n as V,o as G,p as R,q as w,r as z,s as k,t as U,v as L}from"./chunk-NOBA6HXV.js";import"./chunk-55JEHFV6.js";import{f as I,h as O}from"./chunk-I46D7BUH.js";import"./chunk-2L4G3X5X.js";import{$a as n,$b as g,Hb as t,Ib as e,Jb as a,Oc as E,Pb as _,Pc as y,Tb as x,Tc as F,_b as o,ac as P,da as u,gc as S,ha as M,sb as f,xb as m}from"./chunk-H3XUDRPM.js";import"./chunk-RGL3W33T.js";function j(i,r){if(i&1&&(t(0,"option",19),o(1),e()),i&2){let b=r.$implicit;m("value",b),n(),g(b)}}function W(i,r){i&1&&(t(0,"div",2)(1,"label",20),o(2,"Precio Peque\xF1a:"),e(),a(3,"input",21),e())}function $(i,r){i&1&&(t(0,"div",2)(1,"label",22),o(2,"Precio Mediana:"),e(),a(3,"input",23),e())}var re=(()=>{let r=class r{constructor(){this.productsService=u(H),this.router=u(O),this.route=u(I),this.fb=u(U),this.isEditMode=!1,this.productTypes=["PIZZA","PANINI","SANDWICH","HAMBURGUESA","BAGUETTE","COMPARTIR","ENSALADA","TACO","BEBIDA"]}ngOnInit(){this.route.params.subscribe(c=>{this.productId=c.id,this.isEditMode=!!this.productId,this.initializeForm(),this.isEditMode&&this.productsService.getProductById(this.productId).subscribe(p=>{this.productForm.patchValue(p)})})}initializeForm(){this.productForm=this.fb.group({name:["",l.required],ingredients:["",l.required],type:["",l.required],priceSmall:[null],priceMedium:[null],priceBig:[null,l.required],discount:[0,[l.min(0),l.max(100)]],photo:[""]})}onSubmit(){if(this.productForm.invalid){alert("Por favor, rellena todos los campos");return}let c=this.productForm.value;this.isEditMode?this.productsService.updateProduct(this.productId,c).subscribe(()=>{alert("Producto actualizado con \xE9xito"),this.router.navigate(["/products"])}):this.productsService.createProduct(c).subscribe(()=>{alert("Producto creado con \xE9xito"),this.router.navigate(["/products"])})}};r.\u0275fac=function(p){return new(p||r)},r.\u0275cmp=M({type:r,selectors:[["app-product-form"]],standalone:!0,features:[S],decls:35,vars:8,consts:[[1,"product-form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","type","text","placeholder","Nombre del Producto","required",""],["for","ingredients"],["id","ingredients","formControlName","ingredients","rows","3","placeholder","Lista de ingredientes","required",""],["for","type"],["id","type","formControlName","type","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["for","priceBig"],["id","priceBig","formControlName","priceBig","type","number","min","0","step","0.01","required","",3,"placeholder"],["for","discount"],["id","discount","formControlName","discount","type","number","min","0","max","100","step","0.01","placeholder","Descuento"],["for","photo"],["id","photo","formControlName","photo","type","text","placeholder","URL de la Foto"],["type","submit",1,"btn","btn-primary"],[3,"value"],["for","priceSmall"],["id","priceSmall","formControlName","priceSmall","type","number","min","0","step","0.01","placeholder","Precio Peque\xF1o"],["for","priceMedium"],["id","priceMedium","formControlName","priceMedium","type","number","min","0","step","0.01","placeholder","Precio Mediano"]],template:function(p,d){if(p&1&&(t(0,"div",0)(1,"h1"),o(2),e(),t(3,"form",1),_("ngSubmit",function(){return d.onSubmit()}),t(4,"div",2)(5,"label",3),o(6,"Nombre del Producto:"),e(),a(7,"input",4),e(),t(8,"div",2)(9,"label",5),o(10,"Ingredientes:"),e(),a(11,"textarea",6),e(),t(12,"div",2)(13,"label",7),o(14,"Tipo de Producto:"),e(),t(15,"select",8)(16,"option",9),o(17,"Selecciona un tipo"),e(),f(18,j,2,2,"option",10),e()(),f(19,W,4,0,"div",11)(20,$,4,0,"div",11),t(21,"div",2)(22,"label",12),o(23),e(),a(24,"input",13),e(),t(25,"div",2)(26,"label",14),o(27,"Descuento (%):"),e(),a(28,"input",15),e(),t(29,"div",2)(30,"label",16),o(31,"Foto del Producto:"),e(),a(32,"input",17),e(),t(33,"button",18),o(34),e()()()),p&2){let s,h,v,C;n(2),g(d.isEditMode?"Editar Producto":"Crear Producto"),n(),m("formGroup",d.productForm),n(15),m("ngForOf",d.productTypes),n(),m("ngIf",((s=d.productForm.get("type"))==null?null:s.value)==="PIZZA"),n(),m("ngIf",((h=d.productForm.get("type"))==null?null:h.value)==="PIZZA"),n(3),P(" ",((v=d.productForm.get("type"))==null?null:v.value)==="PIZZA"?"Precio Grande":"Precio",": "),n(),x("placeholder",((C=d.productForm.get("type"))==null?null:C.value)==="PIZZA"?"Precio Grande":"Precio"),n(10),P(" ",d.isEditMode?"Actualizar Producto":"Crear Producto"," ")}},dependencies:[L,q,G,R,N,B,V,A,T,k,z,w,D,Z,F,E,y],styles:[".product-form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a}.product-form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.product-form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.product-form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}.product-form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.product-form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let i=r;return i})();export{re as ProductFormComponent};
