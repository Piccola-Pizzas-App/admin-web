import{a as D}from"./chunk-BGJFWWJX.js";import"./chunk-55JEHFV6.js";import{h as T}from"./chunk-I46D7BUH.js";import"./chunk-2L4G3X5X.js";import{$a as c,$b as x,Hb as i,Ib as t,Jb as C,Nb as h,Nc as w,Oc as k,Pb as m,Qb as f,Sc as S,Tc as A,_b as e,ac as p,bc as y,da as l,gc as P,ha as g,jc as M,kc as O,mc as E,sa as b,sb as _,ta as v,xb as u}from"./chunk-H3XUDRPM.js";import"./chunk-RGL3W33T.js";var I=(d,r)=>({active:d,inactive:r});function F(d,r){if(d&1){let o=h();i(0,"div",4)(1,"div",5)(2,"h2",6),e(3),t(),i(4,"span",7),e(5),t()(),i(6,"div",8)(7,"p")(8,"strong"),e(9,"Valor:"),t(),e(10),t(),i(11,"p")(12,"strong"),e(13,"Estado:"),t(),i(14,"span",9),e(15),t()(),i(16,"p")(17,"strong"),e(18,"Restante:"),t(),e(19),t(),i(20,"p")(21,"strong"),e(22,"Caduca:"),t(),e(23),O(24,"date"),t()(),i(25,"div",10)(26,"button",11),m("click",function(){let s=b(o).$implicit,a=f();return v(a.editDiscount(s.id))}),e(27,"Editar"),t()()()}if(d&2){let o=r.$implicit,n=f();c(3),x(o.code),c(2),x(n.translateDiscountType(o.type)),c(5),y(" ",o.value,"",o.type==="QUANTITY"?"\u20AC":"%",""),c(4),u("ngClass",M(11,I,o.isActive,!o.isActive)),c(),p(" ",o.isActive?"Activo":"Inactivo"," "),c(4),p(" ",o.remaining," usos"),c(4),p(" ",E(24,8,o.expiresAt,"dd/MM/yyyy"),"")}}var $=(()=>{let r=class r{constructor(){this.discountsService=l(D),this.router=l(T),this.discounts=[]}ngOnInit(){this.discountsService.getAllDiscounts().subscribe({next:n=>{this.discounts=n},error:n=>{console.error("Error fetching orders:",n),alert(n.error.message)}})}editDiscount(n){this.router.navigate(["/promos/edit",n])}translateDiscountType(n){switch(n){case"PERCENTAGE":return"Porcentaje";case"QUANTITY":return"Cantidad";default:return"Desconocido"}}onAddPromo(){this.router.navigate(["/promos/new"])}};r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=g({type:r,selectors:[["app-promos"]],standalone:!0,features:[P],decls:8,vars:1,consts:[[1,"discount-wrapper"],[1,"discounts-container"],["class","discount-card",4,"ngFor","ngForOf"],[1,"fab",3,"click"],[1,"discount-card"],[1,"discount-header"],[1,"discount-code"],[1,"discount-type"],[1,"discount-details"],[3,"ngClass"],[1,"discount-footer"],[1,"btn","btn-edit",3,"click"]],template:function(s,a){s&1&&(i(0,"div",0)(1,"h1"),e(2,"C\xF3digos de descuento"),t(),C(3,"hr"),i(4,"div",1),_(5,F,28,14,"div",2),t(),i(6,"button",3),m("click",function(){return a.onAddPromo()}),e(7," + "),t()()),s&2&&(c(5),u("ngForOf",a.discounts))},dependencies:[A,w,k,S],styles:['@charset "UTF-8";.discounts-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px;justify-content:center}.discount-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:300px;overflow:hidden;display:flex;flex-direction:column}.discount-header[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:15px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid #0056b3}.discount-code[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0}.discount-type[_ngcontent-%COMP%]{font-size:14px;margin-top:5px}.discount-details[_ngcontent-%COMP%]{padding:15px;display:flex;flex-direction:column}.discount-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.discount-footer[_ngcontent-%COMP%]{background:#f8f9fa;padding:10px 15px;border-top:1px solid #ddd;display:flex;justify-content:center;align-items:center}.btn-edit[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:8px 16px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-edit[_ngcontent-%COMP%]:hover{background-color:#0056b3}.active[_ngcontent-%COMP%]{color:#28a745}.inactive[_ngcontent-%COMP%]{color:#dc3545}.fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background-color:#007bff;color:#fff;font-size:24px;border:none;box-shadow:0 4px 8px #0003;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1000}.fab[_ngcontent-%COMP%]:hover{background-color:#0056b3}.fab[_ngcontent-%COMP%]:focus{outline:none}.discount-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:20px 10px;border-radius:10px}']});let d=r;return d})();export{$ as PromosComponent};
